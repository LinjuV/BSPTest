<mat-accordion>
    <div [formGroup]="caseInfo">
        <div formArrayName="groups">
        <mat-expansion-panel *ngFor="let item of groups.controls; let i=index" [formGroupName]="i">
          <mat-expansion-panel-header>
                <mat-panel-title>
                    Group - {{item.get('groupName').value}}
                </mat-panel-title>
         </mat-expansion-panel-header>
  <div class="row">
    <div class="col-sm-2">
        <mat-form-field class="example-full-width">
            <input [readonly]="isViewMode" matInput placeholder="Group Name" formControlName="groupName">
        </mat-form-field>
    </div>
    <div class="col-sm-2">
        <mat-form-field class="example-full-width">
            <input [readonly]="isViewMode" matInput placeholder="Group Type" formControlName="groupType">
        </mat-form-field>
    </div>

    <div class="col-sm-2">
        <mat-form-field class="example-full-width">
                        <input [readonly]="isViewMode" matInput [matDatepicker]="picker" placeholder="Group Effective Date" formControlName="grpEffDate">
                        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                        <mat-datepicker #picker></mat-datepicker>
            <!-- <input matInput placeholder="Group Effective Date" formControlName="grpEffDate" > -->
        </mat-form-field>
    </div>
  </div>


  <mat-divider></mat-divider>


  <div class="row" formGroupName="groupSize">
    <div class="col-sm-2">
            <mat-form-field class="example-full-width">
                    <input [readonly]="isViewMode" matInput placeholder="Medical Size" formControlName="medicalSize">
            </mat-form-field>
    </div>
    <div class="col-sm-2">
            <mat-form-field class="example-full-width">
                    <input [readonly]="isViewMode" matInput placeholder="dental Size" formControlName="dentalSize">
            </mat-form-field>
    </div>
    <div class="col-sm-2">
            <mat-form-field class="example-full-width">
                    <input [readonly]="isViewMode" matInput placeholder="Vision Size" formControlName="visionSize">
            </mat-form-field>
    </div>
    <div class="col-sm-2">
            <mat-form-field class="example-full-width">
                    <input [readonly]="isViewMode" matInput placeholder="Total Employees" formControlName="totalEmployees">
            </mat-form-field>
    </div>
    <div class="col-sm-2" style="padding-top: 36px;padding-left: 45px;" [hidden]="type=='view'">
                <a (click)="removeGroups(i)" [hidden]="groups.controls.length<2">Remove</a>
              </div>
  </div>
  <mat-accordion>
<div formArrayName="cntrcts">
<mat-expansion-panel *ngFor="let x of getCntrcts(item); let y=index" [formGroupName]="y">
        <mat-expansion-panel-header>
                <mat-panel-title>
                    Contract {{x.get('cntrctName').value}}
                </mat-panel-title>
         </mat-expansion-panel-header>
  <div class="row">
        <div class="col-sm-2">
                <mat-form-field class="example-full-width">
                        <input [readonly]="isViewMode" matInput placeholder="Contract Code" formControlName="cntrctCd">
                </mat-form-field>
        </div>
        <div class="col-sm-2" >
                <mat-form-field style="width: 178px;" class="example-full-width">
                                <input [readonly]="isViewMode" matInput [matDatepicker]="pick" placeholder="Contract Effective Date" formControlName="cntctEffDate">
                                <mat-datepicker-toggle matSuffix [for]="pick"></mat-datepicker-toggle>
                                <mat-datepicker #pick></mat-datepicker>
                        <!-- <input matInput placeholder="Contract Effective Date" formControlName="cntctEffDate"> -->
                </mat-form-field>
        </div>
        <div class="col-sm-2">
                <mat-form-field class="example-full-width">
                        <input [readonly]="isViewMode" matInput placeholder="Coverage Type" formControlName="cvrgType">
                </mat-form-field>
        </div>
        <div class="col-sm-2">
                <mat-form-field class="example-full-width">
                        <input [readonly]="isViewMode" matInput placeholder="Contract Name" formControlName="cntrctName">
                </mat-form-field>
        </div>
        <div class="col-sm-2">
                <mat-form-field class="example-full-width">
                        <input [readonly]="isViewMode" matInput placeholder="Contract Description" formControlName="cntrctDesc"> 
                </mat-form-field>
        </div>
       <div class="col-sm-2" style="padding-top: 36px;padding-left: 45px;" [hidden]="type=='view'">
        <a (click)="removeContract(y,i)" [hidden]="item.controls.cntrcts.controls.length<2">Remove</a>
      </div>
    </div>
</mat-expansion-panel>
<div class="row" [hidden]="type=='view'">
                <div class="col col-sm-12">
                        <a (click)="addContracts(i)" class="add_contact_a btn-info btn-xs">
                         Add Contract
                        </a>
                </div>
        </div>
</div> 
</mat-accordion>
      <mat-divider></mat-divider>
    </mat-expansion-panel>
    <div class="row" [hidden]="type=='view'">
                <div class="col col-sm-12">
                        <a (click)="addGroups()" class="add_contact_a btn-info btn-xs">
                         Add Group
                        </a>
                </div>
        </div>
 </div>
</div>
</mat-accordion>
